{
  "timestamp": "2026-01-28T12:44:21Z",
  "project": {
    "name": "CookieCloud",
    "description": "CookieCloud Go 实现 - 轻量级 Cookie 和 LocalStorage 同步服务",
    "language": "Go",
    "version": "1.25.5"
  },
  "modules": [
    {
      "path": "cmd/cookiecloud",
      "name": "Application Entry",
      "entry": "cmd/cookiecloud/main.go",
      "responsibility": "应用入口，初始化 Web 服务器和路由",
      "has_tests": false,
      "has_config": false
    },
    {
      "path": "internal/config",
      "name": "Configuration",
      "entry": "internal/config/config.go",
      "responsibility": "环境变量配置管理（PORT, API_ROOT, DATA_DIR）",
      "has_tests": true,
      "test_file": "internal/config/config_test.go"
    },
    {
      "path": "internal/handlers",
      "name": "HTTP Handlers",
      "entry": "internal/handlers/handlers.go",
      "responsibility": "HTTP 路由处理、请求验证、响应格式化",
      "has_tests": true,
      "test_file": "internal/handlers/handlers_test.go",
      "interfaces": ["UpdateHandler", "GetHandler", "RootHandler"]
    },
    {
      "path": "internal/storage",
      "name": "Storage Layer",
      "entry": "internal/storage/storage.go",
      "responsibility": "JSON 文件存储，支持并发安全和 context 取消",
      "has_tests": true,
      "test_file": "internal/storage/storage_test.go",
      "data_models": ["CookieData"]
    },
    {
      "path": "internal/crypto",
      "name": "Cryptography",
      "entry": "internal/crypto/crypto.go",
      "responsibility": "AES-256-CBC 加密，兼容 CryptoJS 和 OpenSSL",
      "has_tests": true,
      "test_file": "internal/crypto/crypto_test.go"
    },
    {
      "path": "internal/cache",
      "name": "Memory Cache",
      "entry": "internal/cache/cache.go",
      "responsibility": "sync.Map 内存缓存，支持 TTL 过期",
      "has_tests": true,
      "test_file": "internal/cache/cache_test.go"
    },
    {
      "path": "internal/logger",
      "name": "Structured Logger",
      "entry": "internal/logger/logger.go",
      "responsibility": "结构化日志（INFO/WARN/ERROR），key-value 格式",
      "has_tests": true,
      "test_file": "internal/logger/logger_test.go"
    }
  ],
  "coverage": {
    "total_files": 27,
    "scanned_files": 27,
    "coverage_percent": 100,
    "modules_count": 7,
    "test_files": 6,
    "has_documentation": {
      "root_readme": true,
      "root_readme_cn": true,
      "dockerfile": true,
      "github_workflow": true,
      "golangci_config": true
    }
  },
  "documentation": {
    "root_claude_md": {
      "path": "CLAUDE.md",
      "lines": 120,
      "sections": ["项目快照", "模块导航", "快速启动", "核心设计", "质量工具", "参考文档"]
    },
    "existing_docs": {
      "README.md": true,
      "README_cn.md": true,
      "Dockerfile": true,
      ".github/workflows/docker-image.yml": true,
      ".golangci.yml": true
    },
    "deduplication_stats": {
      "avoided_duplicate_lines": 0,
      "used_reference_links": 5,
      "reference_targets": ["README.md", "README_cn.md", "Dockerfile", ".github/workflows/docker-image.yml", ".golangci.yml"]
    }
  },
  "tech_stack": {
    "language": "Go 1.25.5",
    "web_framework": "Fiber v2.52.10",
    "encryption": "AES-256-CBC (CryptoJS compatible)",
    "testing": "standard Go testing + benchmarks",
    "linting": "golangci-lint"
  },
  "architecture": {
    "style": "模块化设计（cmd/ + internal/）",
    "patterns": [
      "依赖注入（Handlers 接收 storage 和 cache）",
      "context.Context 取消信号传递",
      "sync.Map 并发安全",
      "中间件模式（CORS, limiter, compress）"
    ]
  },
  "key_features": [
    "兼容 CryptoJS AES-256-CBC 加密",
    "内存缓存（5分钟 TTL）",
    "速率限制（60次/分钟）",
    "context.Context 取消支持",
    "完善的单元测试与基准测试",
    "Docker 极简镜像（Scratch + UPX 压缩）"
  ],
  "gaps": [],
  "next_steps": [],
  "truncated": false
}
